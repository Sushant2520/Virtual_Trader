import React,{useState} from 'react'; import API from '../api/api'; import { useNavigate } from 'react-router-dom';
export default function Login(){ const [email,setEmail]=useState('admin@demo.com'); const [password,setPassword]=useState('password'); const nav=useNavigate(); async function submit(e){ e.preventDefault(); try{ const r=await API.post('/auth/login',{email,password}); localStorage.setItem('token',r.data.token); localStorage.setItem('user',JSON.stringify(r.data.user)); nav('/'); }catch(e){ alert('Login failed'); } } return (<div className='login'><form onSubmit={submit}><h2>Login</h2><input value={email} onChange={e=>setEmail(e.target.value)} /><input type='password' value={password} onChange={e=>setPassword(e.target.value)} /><button>Login</button></form></div>); }
